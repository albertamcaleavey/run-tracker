<%- include('../partials/html-head') %>
<link rel="stylesheet" href="/stylesheets/goals/index.css">
<script defer src="public/js/goals/index.js"></script>
<%- include('../partials/nav') %>

<main>
  <div class="header" >
    <i class="fa-solid fa-angle-left"></i>
    <h1><%= title %></h1>
    <i class="fa-solid fa-plus"></i>
  </div>
  <% if (user) { %>
   <form action="/goals" method="POST">
    <div class="input-group mb-3">
      <input type="text" name="content" class="form-control" placeholder="Enter your new goal" aria-label="Recipient's username" aria-describedby="button-addon2">
      <button class="btn btn-outline-secondary" type="submit" id="button-addon2">Add Goal</button>
    </div>
  </form>


   <% goals.forEach(goal => { %>
    <div class="goal-div">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
        <label class="form-check-label" for="flexCheckDefault">
          <%= goal.content %>
        </label>
      </div>
      <form action="/goals/<%= goal._id %>/edit" method="GET">
        <button id="edit-goal-btn" type="submit"><i class="fa-solid fa-pen-to-square"></i></button>
      </form>
      <form action="/goals/<%= goal._id %>?_method=DELETE" method="POST">
        <button type="submit" class="btn btn-danger">X</button>
      </form>
    </div>


       


    
  <% }) %> 
  </ul>

  <% } %>
  
</main>

<%- include('../partials/footer') %>